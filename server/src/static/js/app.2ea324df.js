(function(){"use strict";var e={9798:function(e,t,n){var i=n(9242),a=n(3396),l=n(7139);const r=(0,a._)("h1",{class:"tittle"},"Ping Charts",-1),o={class:"overflow-box"},s={key:0,class:"content-table"},c=(0,a._)("th",{style:{position:"sticky",left:"0",background:"#009879"}}," Name ",-1),u=(0,a._)("th",null," Label ",-1),d={style:{position:"sticky",left:"0",background:"#f3f3f3"}};function h(e,t,n,i,h,g){const f=(0,a.up)("radio-com"),v=(0,a.up)("bar-chart");return(0,a.wg)(),(0,a.iD)(a.HY,null,[r,(0,a.Wm)(f,{initModel:h.judgeLevel,uid:h.levelUid,items:h.levelItems,info:h.levelInfo,onOptionSelected:g.changeLevel},null,8,["initModel","uid","items","info","onOptionSelected"]),(0,a.Wm)(f,{initModel:h.min,uid:h.minUid,items:h.minItems,info:h.minInfo,initSelect:3,onOptionSelected:g.changeMin},null,8,["initModel","uid","items","info","onOptionSelected"]),(0,a._)("div",o,[h.isTableVisible?((0,a.wg)(),(0,a.iD)("table",s,[(0,a._)("thead",null,[(0,a._)("tr",null,[c,u,((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(h.targets,((e,t)=>((0,a.wg)(),(0,a.iD)("th",{key:t},(0,l.zw)(e),1)))),128))])]),(0,a._)("tbody",null,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(h.rows,((e,t)=>((0,a.wg)(),(0,a.iD)("tr",{key:t},[(0,a._)("td",d,(0,l.zw)(e.name),1),(0,a._)("td",null,(0,l.zw)(e.label),1),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.chartDataList,((e,t)=>((0,a.wg)(),(0,a.iD)("td",{key:t,class:"chart"},[(0,a.Wm)(v,{chartData:e,judgeLevel:h.judgeLevel},null,8,["chartData","judgeLevel"])])))),128))])))),128))])])):(0,a.kq)("",!0)])],64)}var g=n(4161);const f={key:0};function v(e,t,n,i,r,o){const s=(0,a.up)("Bar");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.Wm)(s,{height:"26",data:r.data,options:r.options},null,8,["data","options"]),r.averageDelay?((0,a.wg)(),(0,a.iD)("span",f,(0,l.zw)(r.averageDelay)+"ms",1)):(0,a.kq)("",!0)],64)}n(7658);const m={strict:1,lenient:2,much_lenient:3},b={green:0,yellow:.05,red:1},p={green:.05,yellow:.1,red:1},w={green:.1,yellow:.3,red:1},y=350;var D=n(5866),k=n(9646);k.kL.register(k.Dx,k.u,k.De,k.ZL,k.uw,k.f$);var _={components:{Bar:D.$Q},props:{chartData:{type:Object,required:!0},judgeLevel:{type:Number,required:!0}},data(){return{options:{categoryPercentage:1,barPercentage:1,scales:{x:{display:!1},y:{display:!1,max:y,min:0,ticks:{stepSize:50}}},plugins:{legend:{display:!1},tooltip:{enabled:!0}},animation:!0},data:this.generageData(),averageDelay:(e=>{let t=e.reduce(((e,t)=>e+t),0)/e.length;return t?t.toFixed(2):0})(this.chartData.delay)}},watch:{judgeLevel:{immediate:!0,handler(){this.data=this.generageData()}}},methods:{getLabels(){let e=[];for(let t=0;t<this.chartData.time.length;t++){let n=this.chartData.time[t],i=this.chartData.loss[t],a=this.chartData.delay[t];const l=`${n} delay: ${a.toFixed(2)}ms loss: ${i.toFixed(2)}`;e.push(l)}return e},generageData(){return{labels:this.getLabels(),datasets:[{data:this.chartData.delay,backgroundColor:function(e){var t,n=this.chartData.loss[e.dataIndex];switch(this.judgeLevel){case m.strict:t=b;break;case m.lenient:t=p;break;case m.much_lenient:t=w;break}return n<=t.green?"green":n<=t.yellow?"orange":"red"}.bind(this)}]}}}},L=n(89);const O=(0,L.Z)(_,[["render",v]]);var j=O;const S={class:"radio-container"},x={class:"tabs"},I={class:"tab info"},C=["id","value"],M=["for","onClick"];function N(e,t,n,r,o,s){return(0,a.wg)(),(0,a.iD)("div",S,[(0,a._)("div",x,[(0,a._)("label",I,(0,l.zw)(n.info),1),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(n.items,((e,r)=>((0,a.wg)(),(0,a.iD)("div",{key:r},[(0,a.wy)((0,a._)("input",{type:"radio",id:n.uid+r,value:e.value,"onUpdate:modelValue":t[0]||(t[0]=e=>o.model=e)},null,8,C),[[i.G2,o.model]]),(0,a._)("label",{class:"tab",for:n.uid+r,onClick:e=>s.changeSelect(r)},(0,l.zw)(e.label),9,M)])))),128)),(0,a._)("span",{class:"glider",style:(0,l.j5)(`--radio-index: ${o.select};`)},null,4)])])}var H={props:{uid:String,info:String,initModel:Number,initSelect:Number,items:Array},data(){return{model:this.initModel,select:this.initSelect?this.initSelect:1}},watch:{model(e){this.$emit("option-selected",e)}},methods:{changeSelect(e){this.select=e+1}}};const T=(0,L.Z)(H,[["render",N],["__scopeId","data-v-1fe85a1c"]]);var z=T,$={name:"App",components:{BarChart:j,RadioCom:z},data(){return{targets:["CHINANET","CHINAUNION","CHINAMOBLE"],rows:{},judgeLevel:m.strict,isTableVisible:!1,levels:m,levelUid:"level",levelInfo:"Select Level",levelItems:[{value:m.strict,label:"strict"},{value:m.lenient,label:"lenient"},{value:m.much_lenient,label:"much lenient"}],min:60,minUid:"min",minInfo:"Select Time",minItems:[{value:5,label:"5min"},{value:30,label:"30min"},{value:60,label:"1h"},{value:1440,label:"1d"},{value:10080,label:"7d"},{value:43200,label:"30d"}]}},mounted(){this.fetchData()},methods:{fetchData(){this.isTableVisible=!1,g.Z.get("./data?min="+this.min).then((e=>{this.targets=e.data.targets,this.rows=e.data.rows,this.isTableVisible=!0})).catch((e=>{console.log(e)}))},changeLevel(e){this.judgeLevel=e},changeMin(e){this.min=e}},watch:{min(){this.fetchData()}}};const U=(0,L.Z)($,[["render",h]]);var Y=U;(0,i.ri)(Y).mount("#app")}},t={};function n(i){var a=t[i];if(void 0!==a)return a.exports;var l=t[i]={exports:{}};return e[i].call(l.exports,l,l.exports,n),l.exports}n.m=e,function(){var e=[];n.O=function(t,i,a,l){if(!i){var r=1/0;for(u=0;u<e.length;u++){i=e[u][0],a=e[u][1],l=e[u][2];for(var o=!0,s=0;s<i.length;s++)(!1&l||r>=l)&&Object.keys(n.O).every((function(e){return n.O[e](i[s])}))?i.splice(s--,1):(o=!1,l<r&&(r=l));if(o){e.splice(u--,1);var c=a();void 0!==c&&(t=c)}}return t}l=l||0;for(var u=e.length;u>0&&e[u-1][2]>l;u--)e[u]=e[u-1];e[u]=[i,a,l]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var i in t)n.o(t,i)&&!n.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={143:0};n.O.j=function(t){return 0===e[t]};var t=function(t,i){var a,l,r=i[0],o=i[1],s=i[2],c=0;if(r.some((function(t){return 0!==e[t]}))){for(a in o)n.o(o,a)&&(n.m[a]=o[a]);if(s)var u=s(n)}for(t&&t(i);c<r.length;c++)l=r[c],n.o(e,l)&&e[l]&&e[l][0](),e[l]=0;return n.O(u)},i=self["webpackChunkping_charts"]=self["webpackChunkping_charts"]||[];i.forEach(t.bind(null,0)),i.push=t.bind(null,i.push.bind(i))}();var i=n.O(void 0,[998],(function(){return n(9798)}));i=n.O(i)})();
//# sourceMappingURL=app.2ea324df.js.map